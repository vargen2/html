<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link href="https://fonts.googleapis.com/css2?family=Lato&display=swap" rel="stylesheet" />
    <link rel="stylesheet" href="reset.css" />

    <link rel="stylesheet" href="style.css" />
    <style>
      .mini-label {
        font-size: 12px;
        font-weight: 300;
      }

      .fixed-dialog {
        position: fixed;
        top: 0px;
        bottom: 0px;
      }

      .details {
        position: relative;
      }

      .summary {
        appearance: none;
        display: inline-block;
      }

      .blocker {
        display: none;
      }

      body.block-scroll > div > .blocker {
        z-index: 8;
        position: fixed;
        display: block;
        top: 0;
        bottom: 0;
        right: 0;
        left: 0;
        background: rgba(221, 65, 65, 0.74);

        pointer-events: auto;
      }

      details[open] > .summary::before {
        z-index: 10;
        position: fixed;
        top: 0;
        bottom: 0;
        right: 0;
        left: 0;
        background: rgba(0, 0, 0, 0.152);
        content: ' ';
      }

      .details-summary {
        z-index: 20;
        position: fixed;
        top: 80px;
        bottom: 80px;
        /* height: 80%; */
        left: 16px;
        right: 16px;
        background: white;
        display: flex;
        flex-direction: column;
      }

      .details-summary-item {
        padding: 16px;
      }
      .details-summary-item:hover {
        background: rgb(255, 203, 203);
      }

      @media (min-width: 576px) {
        body.block-scroll > div > .blocker {
          display: none;
        }
        details[open] > .summary::before {
          background: transparent;
        }
        .details-summary {
          position: absolute;
          top: unset;
          bottom: unset;

          left: 0px;
          right: 0px;
          height: 500px;

          width: 300px;
          margin-top: 4px;
          margin-bottom: 20px;
          overflow: hidden;

          box-shadow: 0px 8px 24px rgba(0, 0, 0, 0.142);
        }
      }
    </style>
  </head>

  <body>
    <div style="height: 100%; overflow-y: auto">
      <div class="blocker"></div>
      <main style="margin: 0px 8px; max-width: 800px">
        <div style="margin: 0px 0px 12px 0px">
          <div class="mini-label">font-family: system-ui...</div>
          <div>1500.500 iiii Lorem ipsum dolor. 1234567</div>
          <div>2111.110 mmmm Saepe repellat vita.......</div>
        </div>

        <div style="margin: 0px 0px 12px 0px">
          <div class="mini-label">font-family: system-ui... font-variant-numeric: tabular-nums</div>
          <div style="font-variant-numeric: tabular-nums">1500.500 iiii Lorem ipsum dolor. 1234567</div>
          <div style="font-variant-numeric: tabular-nums">2111.110 mmmm Saepe repellat vita mmmmmm</div>
        </div>

        <div style="margin: 0px 0px 12px 0px">
          <div class="mini-label">font-family: Lato;</div>
          <div style="font-family: Lato">1500.500 iiii Lorem ipsum dolor. 1234567</div>
          <div style="font-family: Lato">2111.110 mmmm Saepe repellat vita mmmmmm</div>
        </div>

        <div style="margin: 0px 0px 12px 0px">
          <div class="mini-label">font-family: monospace;</div>
          <div style="font-family: monospace">1500.500 iiii Lorem ipsum dolor. 1234567</div>
          <div style="font-family: monospace">2111.110 mmmm Saepe repellat vita mmmmmm</div>
        </div>

        <div style="margin: 0px 0px 12px 0px">
          <div class="mini-label">pre</div>
          <pre>1500.500 iiii Lorem ipsum dolor. 1234567</pre>
          <pre>2111.110 mmmm Saepe repellat vita mmmmmm</pre>
        </div>

        <dialog id="shortDialog" style="margin-top: 0; margin-bottom: 0; border-style: none">
          <form id="shortForm" method="dialog" style="display: flex; flex-direction: column">
            <p style="display: flex; flex-direction: column">
              <label>name</label>
              <input id="nameid" autofocus autocomplete="off" />
            </p>
            <p style="display: flex; flex-direction: column">
              <label>animal</label>
              <select id="selectid">
                <option value="default">Choose...</option>
                <option>Brine shrimp</option>
                <option>Red panda</option>
                <option>Spider monkey</option>
              </select>
            </p>

            <p style="display: flex; flex-direction: column">
              <label>asd</label>
              <input id="asdid" autocomplete="off" />
            </p>
            <p style="display: flex; flex-direction: column">
              <label>inputmode numberic</label>
              <input id="numericid" inputmode="numeric" autocomplete="off" />
            </p>

            <p style="display: flex; flex-direction: column">
              <label>qwer</label>
              <input id="qwerid" autocomplete="off" />
            </p>
            <p style="display: flex; flex-direction: column">
              <label>fghj</label>
              <input id="fghjid" autocomplete="off" />
            </p>
            <p>
              <button type="button" onclick="shortCancel()">Cancel</button>
              <button type="submit">Submit</button>
            </p>
          </form>
        </dialog>
        <dialog id="longDialog" style="margin-top: 0; margin-bottom: 0; border-style: none">
          <form id="longForm" method="dialog" style="display: flex; flex-direction: column; row-gap: 32px">
            <p style="display: flex; flex-direction: column">
              <label>name</label>
              <input id="lnameid" autofocus autocomplete="off" />
            </p>
            <p style="display: flex; flex-direction: column">
              <label>animal</label>
              <select id="lselectid">
                <option value="default">Choose...</option>
                <option>Brine shrimp</option>
                <option>Red panda</option>
                <option>Spider monkey</option>
              </select>
            </p>

            <p style="display: flex; flex-direction: column">
              <label>asd</label>
              <input id="lasdid" autocomplete="off" />
            </p>
            <p style="display: flex; flex-direction: column">
              <label>inputmode numberic</label>
              <input id="lnumericid" inputmode="numeric" autocomplete="off" />
            </p>

            <p style="display: flex; flex-direction: column">
              <label>qwer</label>
              <input id="lqwerid" autocomplete="off" />
            </p>
            <p style="display: flex; align-items: center">
              <input id="checkid" type="checkbox" />
              <label for="checkid">sometinhg</label>
            </p>
            <p style="display: flex; flex-direction: column">
              <label>cvb</label>
              <input id="lcvbid" autocomplete="off" />
            </p>

            <div style="display: flex; flex-direction: column">
              <div>Size</div>

              <fieldset style="display: flex; flex-direction: column; row-gap: 32px">
                <legend>Choose a size</legend>
                <div style="display: grid; gap: 32px; grid-template-columns: auto auto auto">
                  <div style="display: flex; align-items: center">
                    <input id="xss" type="radio" name="size-choice" value="XXS" />
                    <label for="xxs">XXS</label>
                  </div>
                  <div style="display: flex; align-items: center">
                    <input id="xs" type="radio" name="size-choice" value="XS" />
                    <label for="xs">XS</label>
                  </div>
                  <div style="display: flex; align-items: center">
                    <input id="s" type="radio" name="size-choice" value="S" />
                    <label for="s">S</label>
                  </div>
                </div>
              </fieldset>
            </div>

            <p style="display: flex; flex-direction: column">
              <label>dfg</label>
              <input id="ldfgid" autocomplete="off" />
            </p>
            <p>
              <button type="button" onclick="longCancel()">Cancel</button>
              <button type="submit">Submit</button>
            </p>
          </form>
        </dialog>

        <p style="display: flex; align-items: center; column-gap: 8px; height: 32px; line-height: 32px">
          <input id="hidescroll" type="checkbox" value="hidescroll" />
          <label for="hidescroll">Hide scroll</label>
        </p>
        <p style="display: flex; align-items: center; column-gap: 8px; height: 32px; line-height: 32px">
          <input id="fixedDialogCheckbox" type="checkbox" value="fixedDialogCheckbox" />
          <label for="fixedDialogCheckbox">Fixed dialog</label>
        </p>

        <p>
          <button id="shortButton">short dialog</button>
        </p>
        <p>
          <button id="longButton">long dialog</button>
        </p>
        <p>
          <button>TEST ME</button>
        </p>
        <p>
          <details id="details" class="details">
            <summary class="summary">Details</summary>

            <details-summary id="detailsSummary" class="details-summary">
              <div>header</div>
              <div>filter</div>
              <div style="overflow: auto">
                <div class="details-summary-item">content 1</div>
                <div class="details-summary-item">content 1</div>
                <div class="details-summary-item">content 1</div>
                <div class="details-summary-item">content 1</div>
                <div class="details-summary-item">content 1</div>
                <div class="details-summary-item">content 1</div>
                <div class="details-summary-item">content 1</div>
                <div class="details-summary-item">content 1</div>
                <div class="details-summary-item">content 1</div>
                <div class="details-summary-item">content 1</div>
                <div class="details-summary-item">content 1</div>
                <div class="details-summary-item">content 1</div>
                <div class="details-summary-item">content 1</div>
                <div class="details-summary-item">content 1</div>
                <div class="details-summary-item">content 1</div>
                <div class="details-summary-item">content 1</div>
                <div class="details-summary-item">content 1</div>
                <div class="details-summary-item">content 1</div>
                <div class="details-summary-item">content 1</div>
                <div class="details-summary-item">content 1</div>
                <div class="details-summary-item">content 1</div>
              </div>
            </details-summary>
          </details>
        </p>
        <p>
          <details id="detailsShort" class="details">
            <summary class="summary">Details 2</summary>
            <details-summary id="detailsSummaryShort" class="details-summary">
              <div>header 2</div>
              <div>filter 2</div>
              <div style="overflow: auto">
                <div class="details-summary-item">content 2</div>
                <div class="details-summary-item">content 2</div>
                <div class="details-summary-item">content 2</div>
                <div class="details-summary-item">content 2</div>
              </div>
            </details-summary>
          </details>
        </p>

        <div style="display: grid; gap: 32px; grid-template-columns: auto auto auto">
          <div>a</div>
          <div>b</div>
          <div>c</div>
          <div>d</div>
          <div>e</div>
          <div>f</div>
        </div>

        <p>
          Lorem ipsum dolor sit amet consectetur adipisicing elit. Saepe repellat vitae illum natus laborum nisi et quod sed aperiam iure ea
          eos corrupti, ipsam architecto rem quae neque nostrum quisquam.
        </p>
        <p style="background: lightblue">
          Lorem ipsum dolor sit amet consectetur adipisicing elit. Saepe repellat vitae illum natus laborum nisi et quod sed aperiam iure ea
          eos corrupti, ipsam architecto rem quae neque nostrum quisquam.
        </p>
        <p>
          Lorem ipsum dolor sit amet consectetur adipisicing elit. Saepe repellat vitae illum natus laborum nisi et quod sed aperiam iure ea
          eos corrupti, ipsam architecto rem quae neque nostrum quisquam.
        </p>
        <p style="background: lightcoral">
          Lorem ipsum dolor sit amet consectetur adipisicing elit. Saepe repellat vitae illum natus laborum nisi et quod sed aperiam iure ea
          eos corrupti, ipsam architecto rem quae neque nostrum quisquam.
        </p>
        <p>
          Lorem ipsum dolor sit amet consectetur adipisicing elit. Saepe repellat vitae illum natus laborum nisi et quod sed aperiam iure ea
          eos corrupti, ipsam architecto rem quae neque nostrum quisquam.
        </p>
        <p>
          Lorem ipsum dolor sit amet consectetur adipisicing elit. Saepe repellat vitae illum natus laborum nisi et quod sed aperiam iure ea
          eos corrupti, ipsam architecto rem quae neque nostrum quisquam.
        </p>
        <p>
          Lorem ipsum dolor sit amet consectetur adipisicing elit. Saepe repellat vitae illum natus laborum nisi et quod sed aperiam iure ea
          eos corrupti, ipsam architecto rem quae neque nostrum quisquam.
        </p>
        <p>
          Lorem ipsum dolor sit amet consectetur adipisicing elit. Saepe repellat vitae illum natus laborum nisi et quod sed aperiam iure ea
          eos corrupti, ipsam architecto rem quae neque nostrum quisquam.
        </p>
        <p>
          Lorem ipsum dolor sit amet consectetur adipisicing elit. Saepe repellat vitae illum natus laborum nisi et quod sed aperiam iure ea
          eos corrupti, ipsam architecto rem quae neque nostrum quisquam.
        </p>
        <p>
          Lorem ipsum dolor sit amet consectetur adipisicing elit. Saepe repellat vitae illum natus laborum nisi et quod sed aperiam iure ea
          eos corrupti, ipsam architecto rem quae neque nostrum quisquam.
        </p>
        <p>
          Lorem ipsum dolor sit amet consectetur adipisicing elit. Saepe repellat vitae illum natus laborum nisi et quod sed aperiam iure ea
          eos corrupti, ipsam architecto rem quae neque nostrum quisquam.
        </p>
        <p>
          Lorem ipsum dolor sit amet consectetur adipisicing elit. Saepe repellat vitae illum natus laborum nisi et quod sed aperiam iure ea
          eos corrupti, ipsam architecto rem quae neque nostrum quisquam.
        </p>
      </main>
    </div>
  </body>
</html>
<script>
  const hideScroll = document.getElementById('hidescroll')
  const fixedDialogCheckbox = document.getElementById('fixedDialogCheckbox')

  const shortButton = document.getElementById('shortButton')
  const shortDialog = document.getElementById('shortDialog')
  const shortForm = document.getElementById('shortForm')

  const longButton = document.getElementById('longButton')
  const longDialog = document.getElementById('longDialog')
  const longForm = document.getElementById('longForm')

  const details = document.getElementById('details')
  const detailsSummary = document.getElementById('detailsSummary')

  const detailsShort = document.getElementById('detailsShort')
  const detailsSummaryShort = document.getElementById('detailsSummaryShort')

  let isHideScroll = hideScroll.checked
  hideScroll.addEventListener('click', (ev) => {
    isHideScroll = ev.target.checked
  })

  fixedDialogCheckbox.addEventListener('click', (ev) => {
    shortDialog.classList.toggle('fixed-dialog')
    longDialog.classList.toggle('fixed-dialog')
  })

  shortButton.addEventListener('click', function onOpen() {
    if (typeof shortDialog.showModal === 'function') {
      shortDialog.showModal()
      if (isHideScroll) {
        document.body.style.setProperty('overflow-y', 'hidden')
      }
    }
  })

  shortDialog.addEventListener('close', function onClose() {
    if (isHideScroll) {
      document.body.style.setProperty('overflow-y', 'scroll')
    }
  })

  function shortCancel() {
    shortDialog.close()
  }

  shortForm.addEventListener('submit', (event) => {
    event.preventDefault()
    alert('form submit')
  })

  longButton.addEventListener('click', function onOpen() {
    if (typeof longDialog.showModal === 'function') {
      longDialog.showModal()
      if (isHideScroll) {
        document.body.style.setProperty('overflow-y', 'hidden')
      }
    }
  })

  longDialog.addEventListener('close', function onClose() {
    if (isHideScroll) {
      document.body.style.setProperty('overflow-y', 'scroll')
    }
  })

  function longCancel() {
    longDialog.close()
  }

  longForm.addEventListener('submit', (event) => {
    event.preventDefault()
    alert('form submit')
  })

  details.addEventListener('toggle', (ev) => {
    if (details.hasAttribute('open')) {
      document.body.classList.add('block-scroll')
    } else {
      document.body.classList.remove('block-scroll')
    }
  })
  detailsSummary.addEventListener('click', (ev) => {
    detailsSummary.parentElement.removeAttribute('open')
  })

  detailsShort.addEventListener('toggle', (ev) => {
    if (detailsShort.hasAttribute('open')) {
      document.body.classList.add('block-scroll')
    } else {
      document.body.classList.remove('block-scroll')
    }
  })
  detailsSummaryShort.addEventListener('click', (ev) => {
    detailsSummaryShort.parentElement.removeAttribute('open')
  })
</script>
